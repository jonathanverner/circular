<html>
<head>
<title>Circular Testing Page</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/base.css">

<!-- BRYTHON -->
<link rel="pythonpath" href="lib" hreflang="py" />
<script src="lib/brython/www/src/brython_dist.js"></script>

    <!-- APP -->
<script type="text/python">

from browser import document as doc
from circular.console import Console
from circular.template import Template, Context
cons = Console(doc["console"])
Template.set_prefix('tpl-')
tpl = Template(doc['test_tpl'])
ctx = Context()
tpl.bind_ctx(ctx)
ctx.name='Jonathan'
ctx.surname='Verner'
ctx.colours = ['red','green','blue','brown']

</script>
    
<script>
var onLoadHandler = function() {
        brython({'debug':1,'profile':2,'profile_start':false});
};
</script>

</head>

<!-- 3. Display the application -->
<body onload="onLoadHandler()">
    
    <div id='test_tpl' class="{{ ' '.join(classes) }}">
    Ahoj {{ name }} {{ surname }}!
        <ul>
            <li tpl-for="colour in colours if not colour == 'white'" style='color:{{ colour }};'>{{ colour }}</li>
        </ul>
    </div>
    
    <div>
        <textarea id='console' spellcheck="false"></textarea>
    </div>

</body>

</html>
